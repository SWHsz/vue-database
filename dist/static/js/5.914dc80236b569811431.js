webpackJsonp([5],{b0VZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("OMN4"),o=a.n(l),n=a("TIfe"),r=a("t4zo"),i=a.n(r),s={components:{exportExcel:a("LzDy").a},prop:{},data:function(){return{table_type_list:[],table_type:"",tableData:[],currentPage:1,pagesize:20,loading:!1,f:!1,tableColumn:[{prop:"CITY",label:"城市"},{prop:"SECTOR_ID",label:"小区ID"},{prop:"SECTOR_NAME",label:"小区名称"},{prop:"ENODEBID",label:"小区所属基站ID"},{prop:"ENODEB_NAME",label:"小区所属基站名称"},{prop:"EARFCN",label:"频点编号"},{prop:"PCI",label:"物理小区标识"},{prop:"PSS",label:"主同步信号标识"},{prop:"SSS",label:"辅同步信号标识"},{prop:"TAC",label:"跟踪区编码"},{prop:"AZIMUTH",label:"小区天线方位角"},{prop:"HEIGHT",label:"天线挂高"},{prop:"ELECTTILT",label:"小区天线电下倾角"},{prop:"MECHTILT",label:"小区天线机械下倾角"},{prop:"TOTLETILT",label:"总下倾角"}],downloadLoading:!1}},mounted:function(){this.getTableTypeList()},methods:{exportExcel:function(){console.log(this.id),console.log(document.querySelector("#out-table"));var e=this.XLSX.utils.table_to_book(document.querySelector("#"+this.id),{raw:!0}),t=XLSX.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{i.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"小区信息.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},getTableTypeList:function(){var e=this;o()({url:"/api/query/cell_name",method:"get",headers:{Authorization:"Bearer "+Object(n.a)()}}).then(function(t){for(var a=0;a<t.data.list.length;a++)e.table_type_list.push({value:t.data.list[a],label:t.data.list[a]});e.$forceUpdate(),console.log(e.table_type_list)})},search:function(){var e=this;if(e.loading=!0,console.log(e.table_type),""==e.table_type)return e.$message({message:"请选择小区名称",type:"warning"}),void(e.loading=!1);o()({url:"/api/query/Cell",params:{SECTOR_NAME:e.table_type},method:"get",headers:{Authorization:"Bearer "+Object(n.a)()}}).then(function(t){console.log(t);for(var a=0;a<t.data.list.length;a++)e.tableData.push({CITY:t.data.list[a].CITY,SECTOR_ID:t.data.list[a].SECTOR_ID,SECTOR_NAME:t.data.list[a].SECTOR_NAME,ENODEBID:t.data.list[a].ENODEBID,ENODEB_NAME:t.data.list[a].ENODEB_NAME,EARFCN:t.data.list[a].EARFCN,PCI:t.data.list[a].PCI,PSS:t.data.list[a].PSS,SSS:t.data.list[a].SSS,TAC:t.data.list[a].TAC,AZIMUTH:t.data.list[a].AZIMUTH,HEIGHT:t.data.list[a].HEIGHT,ELECTTILT:t.data.list[a].ELECTTILT,MECHTILT:t.data.list[a].MECHTILT,TOTLETILT:t.data.list[a].TOTLETILT});e.total=e.tableData.length,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})},current_change:function(e){this.currentPage=e}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v("\n    请选择小区名称：\n    "),a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.table_type,callback:function(t){e.table_type=t},expression:"table_type"}},e._l(e.table_type_list,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("br")],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),border:"",size:"mini"}},[a("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"70px","show-overflow-tooltip":""}}),e._v(" "),e._l(e.tableColumn,function(e){return a("el-table-column",{key:e.index,attrs:{prop:e.prop,label:e.label,"show-overflow-tooltip":""}})})],2),e._v(" "),a("exportExcel",{attrs:{id:"exportTab",name:"导出表格"}}),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.f,expression:"f"}],attrs:{data:e.tableData,border:"",id:"exportTab"}},[a("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"70px","show-overflow-tooltip":""}}),e._v(" "),e._l(e.tableColumn,function(e){return a("el-table-column",{key:e.index,attrs:{prop:e.prop,label:e.label,"show-overflow-tooltip":""}})})],2),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"hide-on-single-page":"",background:"",layout:"prev, pager, next,total",total:e.total,"page-size":e.pagesize},on:{"current-change":e.current_change}})],1)],1)])},staticRenderFns:[]},c=a("VU/8")(s,p,!1,null,null,null);t.default=c.exports}});
//# sourceMappingURL=5.914dc80236b569811431.js.map