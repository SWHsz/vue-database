webpackJsonp([9],{"/EjU":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("OMN4"),s=a.n(l),r=a("TIfe"),o={data:function(){return{table_type_list:[{value:"tbcell",label:"网络配置信息"},{value:"tbkpi",label:"KPI指标信息"},{value:"tbprb",label:"PRB干扰信息"},{value:"tbmrodata",label:"MRO数据"}]}},methods:{beforeUpload:function(e){var t="text/csv"===e.type,a="application/vnd.ms-excel"===e.type,l="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type;return t||a||l||this.$message.error("上传文件只能是csv/xls/xlsx格式!"),t||a||l},uploadFile:function(e){var t=new FormData;t.append("file",e.file);var a=this.table_type,l=this;s()({url:"/api/database/upload/"+a,method:"post",data:t,headers:{Authorization:"Bearer "+Object(r.a)(),"Content-Type":"multipart/form-data"}}).then(function(e){l.$message({message:"上传成功",type:"success"}),l.$router.go(0)}).catch(function(e){l.$message({message:"上传失败",type:"error"}),l.$router.go(0)})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),e._v("\n    导入表类型：\n    "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.table_type,callback:function(t){e.table_type=t},expression:"table_type"}},e._l(e.table_type_list,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("el-upload",{attrs:{action:"",limit:"1","show-file-list":!0,"http-request":e.uploadFile,"before-upload":e.beforeUpload,accept:".csv,.xls,.xlsx"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传文件")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xls/xlsx/csv文件")])],1)],1)},staticRenderFns:[]},i=a("VU/8")(o,n,!1,null,null,null);t.default=i.exports}});
//# sourceMappingURL=9.f66e1ae2108dc6e11969.js.map